webpackJsonp([11],{"8dgb":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("Dd8w"),i=e.n(a),c=e("GQaK"),n=e("NYxO"),l={name:"shopRatings",data:function(){return{value:3.7,onlyShowText:!0,selectType:2}},mounted:function(){var t=this;this.$store.dispatch("getShopRatings",function(){t.$nextTick(function(){new c.a(t.$refs.ratings,{click:!0})})})},computed:i()({},Object(n.d)(["info","ratings"]),Object(n.c)(["positiveSize"]),{filterRatings:function(){var t=this.ratings,s=this.onlyShowText,e=this.selectType;return t.filter(function(t){var a=t.rateType,i=t.text;return(2===e||e===a)&&(!s||i.length>0)})}}),methods:{setSelectType:function(t){this.selectType=t},toggleOnlyShowText:function(){this.onlyShowText=!this.onlyShowText}}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"ratings",staticClass:"ratings"},[e("div",{staticClass:"ratings-content"},[e("div",{staticClass:"overview"},[e("div",{staticClass:"overview-left"},[e("h1",{staticClass:"score"},[t._v(t._s(t.info.score))]),t._v(" "),e("div",{staticClass:"title"},[t._v("综合评分")]),t._v(" "),e("div",{staticClass:"rank"},[t._v("高于周边商家99%")])]),t._v(" "),e("div",{staticClass:"overview-right"},[e("div",{staticClass:"score-wrapper"},[e("span",{staticClass:"title"},[t._v("服务态度")]),t._v(" "),e("el-rate",{staticClass:"star",attrs:{disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:t.info.info,callback:function(s){t.$set(t.info,"info",s)},expression:"info.info"}}),t._v(" "),e("span",{staticClass:"score"},[t._v(t._s(t.info.serviceScore))])],1),t._v(" "),e("div",{staticClass:"score-wrapper"},[e("span",{staticClass:"title"},[t._v("商品评分")]),t._v(" "),e("el-rate",{staticClass:"star",attrs:{disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:t.info.foodScore,callback:function(s){t.$set(t.info,"foodScore",s)},expression:"info.foodScore"}}),t._v(" "),e("span",{staticClass:"score"},[t._v(t._s(t.info.foodScore))])],1),t._v(" "),e("div",{staticClass:"delivery-wrapper"},[e("span",{staticClass:"title"},[t._v("送达时间")]),t._v(" "),e("span",{staticClass:"delivery"},[t._v(t._s(t.info.deliveryTime)+"分钟")])])])]),t._v(" "),e("div",{staticClass:"split"}),t._v(" "),e("div",{staticClass:"ratingselect"},[e("div",{staticClass:"rating-type border-1px"},[e("span",{staticClass:"block positive",class:{active:2===t.selectType},on:{click:function(s){return t.setSelectType(2)}}},[t._v("\n          全部"),e("span",{staticClass:"count"},[t._v(t._s(t.ratings.length))])]),t._v(" "),e("span",{staticClass:"block positive",class:{active:0===t.selectType},on:{click:function(s){return t.setSelectType(0)}}},[t._v("\n          满意"),e("span",{staticClass:"count"},[t._v(t._s(t.positiveSize))])]),t._v(" "),e("span",{staticClass:"block negative",class:{active:1===t.selectType},on:{click:function(s){return t.setSelectType(1)}}},[t._v("\n          不满意"),e("span",{staticClass:"count"},[t._v(t._s(t.ratings.length-t.positiveSize))])])]),t._v(" "),e("div",{staticClass:"switch",class:{on:t.onlyShowText},on:{click:t.toggleOnlyShowText}},[e("span",{staticClass:"iconfont icon-Icon-CheckCircle-Rounded"}),t._v(" "),e("span",{staticClass:"text"},[t._v("只看有内容的评价")])])]),t._v(" "),e("div",{staticClass:"rating-wrapper"},[e("ul",t._l(t.filterRatings,function(s,a){return e("li",{key:a,staticClass:"rating-item"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{width:"28",height:"28",src:s.avatar}})]),t._v(" "),e("div",{staticClass:"content"},[e("h1",{staticClass:"name"},[t._v(t._s(s.username))]),t._v(" "),e("div",{staticClass:"star-wrapper"},[e("el-rate",{staticClass:"star",attrs:{disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:s.score,callback:function(e){t.$set(s,"score",e)},expression:"rating.score"}}),t._v(" "),e("span",{staticClass:"delivery"},[t._v(t._s(s.deliveryTime))])],1),t._v(" "),e("p",{staticClass:"text"},[t._v(t._s(s.text))]),t._v(" "),e("div",{staticClass:"recommend"},[e("span",{staticClass:"iconfont",class:0===s.rateType?"icon-thumb_up":"icon-thumb_down"}),t._v(" "),t._l(s.recommend,function(s,a){return e("span",{key:a,staticClass:"item"},[t._v(t._s(s))])})],2),t._v(" "),e("div",{staticClass:"time"},[t._v(t._s(t._f("dateformat")(s.rateTime)))])])])}),0)])])])},staticRenderFns:[]};var r=e("VU/8")(l,o,!1,function(t){e("Ay73")},null,null);s.default=r.exports},Ay73:function(t,s){}});
//# sourceMappingURL=11.8f14836b6b8b3327b70c.js.map