{"version":3,"sources":["webpack:///src/components/shopCart/shopCart.vue","webpack:///./src/components/shopCart/shopCart.vue?c94a","webpack:///./src/components/shopCart/shopCart.vue"],"names":["shopCart","data","isShow","computed","extends_default","Object","vuex_esm","payClass","this","totalPrice","info","minPrice","payText","listShow","_this","totalCount","$nextTick","scroll","refresh","bscroll_esm","click","methods","toggleShow","clearCart","_this2","$confirm","confirmButtonText","cancelButtonText","center","showCancelButton","then","$store","dispatch","catch","components","CartControl","__webpack_require__","e","bind","shopCart_shopCart","render","_vm","_h","$createElement","_c","_self","staticClass","on","class","highlight","_v","_s","_e","deliveryPrice","attrs","name","directives","rawName","value","expression","_l","food","index","key","price","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/19.0de05fce5f2e140a9f80.js","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"shopcart\">\r\n      <div class=\"content\">\r\n        <div class=\"content-left\"\r\n             @click=\"toggleShow\">\r\n          <div class=\"logo-wrapper\">\r\n            <div class=\"logo\"\r\n                 :class=\"{highlight: totalCount}\">\r\n              <i class=\"iconfont icon-icon-ShoppingCart-\"\r\n                 :class=\"{highlight: totalCount}\"></i>\r\n            </div>\r\n            <div class=\"num\"\r\n                 v-if=\"totalCount\">{{totalCount}}</div>\r\n          </div>\r\n          <div class=\"price\"\r\n               :class=\"{highlight: totalCount}\">￥{{totalPrice}}</div>\r\n          <div class=\"desc\">另需配送费￥{{info.deliveryPrice}}元</div>\r\n        </div>\r\n        <div class=\"content-right\">\r\n          <div class=\"pay\"\r\n               :class=\"payClass\">\r\n            {{payText}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <transition name=\"move\">\r\n        <div class=\"shopcart-list\"\r\n             v-show=\"listShow\">\r\n          <div class=\"list-header\">\r\n            <h1 class=\"title\">购物车</h1>\r\n            <span class=\"empty\"\r\n                  @click=\"clearCart\">清空</span>\r\n          </div>\r\n          <div class=\"list-content\">\r\n            <ul>\r\n              <li class=\"food\"\r\n                  v-for=\"(food, index) in cartFoods\"\r\n                  :key=\"index\">\r\n                <span class=\"name\">{{food.name}}</span>\r\n                <div class=\"price\"><span>￥{{food.price}}</span></div>\r\n                <div class=\"cartcontrol-wrapper\">\r\n                  <CartControl :food=\"food\" />\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </transition>\r\n\r\n    </div>\r\n    <div class=\"list-mask\"\r\n         v-show=\"listShow\"\r\n         @click=\"toggleShow\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { MessageBox } from 'mint-ui'\r\nimport BScroll from 'better-scroll'\r\nimport { mapState, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      isShow: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(['cartFoods', 'info']),\r\n    ...mapGetters(['totalCount', 'totalPrice']),\r\n    payClass () {\r\n      const { totalPrice } = this\r\n      const { minPrice } = this.info\r\n\r\n      return totalPrice >= minPrice ? 'enough' : 'not-enough'\r\n    },\r\n    payText () {\r\n      const { totalPrice } = this\r\n      const { minPrice } = this.info\r\n      if (totalPrice === 0) {\r\n        return `￥${minPrice}元起送`\r\n      } else if (totalPrice < minPrice) {\r\n        return `还差￥${minPrice - totalPrice}元起送`\r\n      } else {\r\n        return '结算'\r\n      }\r\n    },\r\n\r\n    listShow () {\r\n      // 如果总数量为0, 直接不显示\r\n      if (this.totalCount === 0) {\r\n        this.isShow = false\r\n        return false\r\n      }\r\n\r\n      if (this.isShow) {\r\n        this.$nextTick(() => {\r\n          // 实现BScroll的实例是一个单例\r\n          if (!this.scroll) {\r\n            this.scroll = new BScroll('.list-content', {\r\n              click: true\r\n            })\r\n          } else {\r\n            this.scroll.refresh();  // 让滚动条刷新一下: 重新统计内容的高度(避免第一次下拉失败)\r\n          }\r\n        })\r\n      }\r\n\r\n      return this.isShow\r\n    }\r\n  },\r\n\r\n\r\n  methods: {\r\n    toggleShow () {\r\n      // 只有当总数量大于0时切换\r\n      if (this.totalCount > 0) {\r\n        this.isShow = !this.isShow\r\n      }\r\n    },\r\n\r\n    clearCart () {\r\n      // MessageBox.confirm('确定清空购物车吗?').then(action => {\r\n      //   this.$store.dispatch('clearCart')\r\n      // }, () => { });\r\n      this.$confirm('是否清空购物车?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        center: true,\r\n        showCancelButton: true\r\n      }).then(() => {\r\n        this.$store.dispatch('clearCart');\r\n      }).catch(() => {\r\n\r\n      });\r\n    }\r\n  },\r\n  components: {\r\n    \"CartControl\": () => import('@/components/cartControl/CartControl')\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\r\n@import '~@/commons/stylus/mixin.styl'\r\n.el-message-box\r\n  width 80%\r\n.shopcart\r\n  position fixed\r\n  left 0\r\n  bottom 0\r\n  z-index 50\r\n  width 100%\r\n  height 48px\r\n  .content\r\n    display flex\r\n    background #141d27\r\n    font-size 0\r\n    color rgba(255, 255, 255, 0.4)\r\n    .content-left\r\n      flex 1\r\n      .logo-wrapper\r\n        display inline-block\r\n        vertical-align top\r\n        position relative\r\n        top -10px\r\n        margin 0 12px\r\n        padding 6px\r\n        width 56px\r\n        height 56px\r\n        box-sizing border-box\r\n        border-radius 50%\r\n        background #141d27\r\n        .logo\r\n          width 100%\r\n          height 100%\r\n          border-radius 50%\r\n          text-align center\r\n          background #2b343c\r\n          &.highlight\r\n            background $green\r\n          .icon-icon-ShoppingCart-\r\n            line-height 44px\r\n            font-size 24px\r\n            color #80858a\r\n            &.highlight\r\n              color #fff\r\n        .num\r\n          position absolute\r\n          top 0\r\n          right 0\r\n          width 24px\r\n          height 16px\r\n          line-height 16px\r\n          text-align center\r\n          border-radius 16px\r\n          font-size 9px\r\n          font-weight 700\r\n          color #ffffff\r\n          background rgb(240, 20, 20)\r\n          box-shadow 0 4px 8px 0 rgba(0, 0, 0, 0.4)\r\n      .price\r\n        display inline-block\r\n        vertical-align top\r\n        margin-top 5px\r\n        line-height 24px\r\n        padding-right 12px\r\n        box-sizing border-box\r\n        font-size 16px\r\n        font-weight 700\r\n        color #fff\r\n        &.highlight\r\n          color #fff\r\n      .desc\r\n        display inline-block\r\n        vertical-align bottom\r\n        margin-bottom 15px\r\n        margin-left -45px\r\n        font-size 10px\r\n    .content-right\r\n      flex 0 0 105px\r\n      width 105px\r\n      .pay\r\n        height 48px\r\n        line-height 48px\r\n        text-align center\r\n        font-size 12px\r\n        font-weight 700\r\n        color #fff\r\n        &.not-enough\r\n          background #2b333b\r\n        &.enough\r\n          background #00b43c\r\n          color #fff\r\n  .ball-container\r\n    .ball\r\n      position fixed\r\n      left 32px\r\n      bottom 22px\r\n      z-index 200\r\n      transition all 0.4s cubic-bezier(0.49, -0.29, 0.75, 0.41)\r\n      .inner\r\n        width 16px\r\n        height 16px\r\n        border-radius 50%\r\n        background $green\r\n        transition all 0.4s linear\r\n  .shopcart-list\r\n    position absolute\r\n    left 0\r\n    top 0\r\n    z-index -1\r\n    width 100%\r\n    transform translateY(-100%)\r\n    &.move-enter-active, &.move-leave-active\r\n      transition transform 0.5s\r\n    &.move-enter, &.move-leave-to\r\n      transform translateY(0)\r\n    .list-header\r\n      height 40px\r\n      line-height 40px\r\n      padding 0 18px\r\n      background #f3f5f7\r\n      border-bottom 1px solid rgba(7, 17, 27, 0.1)\r\n      .title\r\n        float left\r\n        font-size 14px\r\n        color rgb(7, 17, 27)\r\n      .empty\r\n        float right\r\n        font-size 12px\r\n        color rgb(0, 160, 220)\r\n    .list-content\r\n      padding 0 18px\r\n      max-height 217px\r\n      overflow hidden\r\n      background #fff\r\n      .food\r\n        position relative\r\n        padding 12px 0\r\n        box-sizing border-box\r\n        bottom-border-px(1px, rgba(7, 17, 27, 0.1), 0)\r\n        .name\r\n          line-height 24px\r\n          font-size 14px\r\n          color rgb(7, 17, 27)\r\n        .price\r\n          position absolute\r\n          right 90px\r\n          bottom 12px\r\n          line-height 24px\r\n          font-size 14px\r\n          font-weight 700\r\n          color rgb(240, 20, 20)\r\n        .cartcontrol-wrapper\r\n          position absolute\r\n          right 0\r\n          bottom 6px\r\n.list-mask\r\n  position fixed\r\n  top 0\r\n  left 0\r\n  width 100%\r\n  height 100%\r\n  z-index 40\r\n  backdrop-filter blur(10px)\r\n  opacity 1\r\n  background rgba(7, 17, 27, 0.6)\r\n  &.fade-enter-active, &.fade-leave-active\r\n    transition all 0.5s\r\n  &.fade-enter, &.fade-leave-to\r\n    opacity 0\r\n    background rgba(7, 17, 27, 0)\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/shopCart/shopCart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"shopcart\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"content-left\",on:{\"click\":_vm.toggleShow}},[_c('div',{staticClass:\"logo-wrapper\"},[_c('div',{staticClass:\"logo\",class:{highlight: _vm.totalCount}},[_c('i',{staticClass:\"iconfont icon-icon-ShoppingCart-\",class:{highlight: _vm.totalCount}})]),_vm._v(\" \"),(_vm.totalCount)?_c('div',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.totalCount))]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"price\",class:{highlight: _vm.totalCount}},[_vm._v(\"￥\"+_vm._s(_vm.totalPrice))]),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(\"另需配送费￥\"+_vm._s(_vm.info.deliveryPrice)+\"元\")])]),_vm._v(\" \"),_c('div',{staticClass:\"content-right\"},[_c('div',{staticClass:\"pay\",class:_vm.payClass},[_vm._v(\"\\n          \"+_vm._s(_vm.payText)+\"\\n        \")])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"move\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.listShow),expression:\"listShow\"}],staticClass:\"shopcart-list\"},[_c('div',{staticClass:\"list-header\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"购物车\")]),_vm._v(\" \"),_c('span',{staticClass:\"empty\",on:{\"click\":_vm.clearCart}},[_vm._v(\"清空\")])]),_vm._v(\" \"),_c('div',{staticClass:\"list-content\"},[_c('ul',_vm._l((_vm.cartFoods),function(food,index){return _c('li',{key:index,staticClass:\"food\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(food.name))]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_c('span',[_vm._v(\"￥\"+_vm._s(food.price))])]),_vm._v(\" \"),_c('div',{staticClass:\"cartcontrol-wrapper\"},[_c('CartControl',{attrs:{\"food\":food}})],1)])}),0)])])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.listShow),expression:\"listShow\"}],staticClass:\"list-mask\",on:{\"click\":_vm.toggleShow}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-64ee8b32\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/shopCart/shopCart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true,\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-64ee8b32\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./shopCart.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shopCart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shopCart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-64ee8b32\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./shopCart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-64ee8b32\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/shopCart/shopCart.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}