webpackJsonp([3],{BCo4:function(t,s){},wY7l:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=n("Dd8w"),i=n.n(o),e=n("NYxO"),r=n("GQaK"),c={name:"shopGoods",data:function(){return{scrollY:0,tops:[],shopItem:{}}},methods:{_initScroll:function(){var t=this;new r.a(".left",{click:!0}),this.rightScroll=new r.a(".right",{click:!0,probeType:2}),this.rightScroll.on("scroll",function(s){t.scrollY=Math.abs(s.y)}),this.rightScroll.on("scrollEnd",function(s){t.scrollY=Math.abs(s.y)})},_initTops:function(){var t=0,s=[];s.push(t);var n=this.$refs.rightScroll.children;Array.prototype.slice.call(n).forEach(function(n){t+=n.clientHeight,s.push(t)}),this.tops=s},choosed:function(t){var s=this.tops[t];this.rightScroll.scrollTo(0,-s,300),this.scrollY=s},showFoodItem:function(t){this.shopItem=t,this.$refs.shopItem.closeFoodItem()}},created:function(){var t=this;this.$store.dispatch("getShopGoods",function(){t.$nextTick(function(){t._initTops()})})},mounted:function(){var t=this;this.$store.dispatch("getShopGoods",function(){t.$nextTick(function(){t._initScroll(),t._initTops()})})},computed:i()({},Object(e.d)(["goods"]),{currentIndex:function(){var t=this.scrollY,s=this.tops;return s.findIndex(function(n,o){return t>=n&&t<s[o+1]})}}),components:{cartControl:function(){return n.e(16).then(n.bind(null,"fNTu"))},shopItem:function(){return n.e(18).then(n.bind(null,"vnkN"))},shopCart:function(){return n.e(19).then(n.bind(null,"KV95"))}}},l={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",[n("div",{staticClass:"shopGoods"},[n("div",{staticClass:"left"},[n("ul",t._l(t.goods,function(s,o){return n("li",{key:o,class:{current:o===t.currentIndex},on:{click:function(s){return t.choosed(o)}}},[n("span",{staticClass:"items"},[s.icon?n("img",{attrs:{src:s.icon,alt:""}}):t._e(),t._v(" "),n("span",{staticClass:"text"},[t._v(t._s(s.name))])])])}),0)]),t._v(" "),n("div",{staticClass:"right"},[n("ul",{ref:"rightScroll"},t._l(t.goods,function(s,o){return n("li",{key:o},[n("h3",{staticClass:"title"},[n("span",[t._v(t._s(s.name))])]),t._v(" "),n("ul",t._l(s.foods,function(s,o){return n("li",{key:o,staticClass:"item_food",on:{click:function(n){return t.showFoodItem(s)}}},[n("div",{staticClass:"leftContainer"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.icon,expression:"item.icon"}],attrs:{alt:""}})]),t._v(" "),n("div",{staticClass:"rightContainer"},[n("h2",[t._v(t._s(s.name))]),t._v(" "),n("p",{staticClass:"text character"},[t._v(t._s(s.description))]),t._v(" "),n("p",{staticClass:"text count"},[t._v("月售"+t._s(s.sellCount)+"份 "),n("span",[t._v("好评率"+t._s(s.rating)+"%")])]),t._v(" "),n("p",{staticClass:"price"},[n("span",{staticClass:"new"},[t._v("￥"+t._s(s.price))]),t._v(" "),s.oldPrice?n("del",{staticClass:"old"},[t._v("￥"+t._s(s.oldPrice))]):t._e()]),t._v(" "),n("div",{staticClass:"rightAdd"},[n("cartControl",{attrs:{food:s}})],1)])])}),0)])}),0)]),t._v(" "),n("shop-cart")],1),t._v(" "),n("shop-item",{ref:"shopItem",attrs:{shopItem:t.shopItem}})],1)},staticRenderFns:[]};var a=n("VU/8")(c,l,!1,function(t){n("BCo4")},null,null);s.default=a.exports}});
//# sourceMappingURL=3.2965075a88eb641c3787.js.map