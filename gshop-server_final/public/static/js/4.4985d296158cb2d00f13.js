webpackJsonp([4],{QcDz:function(e,t){},WEje:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("Dd8w"),a=r.n(s),o=r("Xxa5"),c=r.n(o),n=r("exGp"),l=r.n(n),i=r("gyMJ"),u=r("NYxO"),d={name:"register",data:function(){return{form:{userName:"",pwd:"",code:""},rules:{userName:[{required:!0,message:"用户名必须",trigger:"blur"}],pwd:[{required:!0,message:"密码是必须的",trigger:"blur"}],code:[{required:!0,message:"验证码是必须的",trigger:"blur"}]}}},methods:{getCode:function(){this.$refs.captcha.src="http://localhost:5000/captcha?time="+Date.now()},submitPwdLogin:function(){var e=this;return l()(c.a.mark(function t(){var r,s,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(r={}).name=e.form.userName,r.pwd=e.form.pwd,r.captcha=e.form.code,t.next=6,Object(i.f)(r);case 6:0===(s=t.sent).code?(a=s.data,e.$store.dispatch("recordUserInfo",a),e.$router.replace("/Profile")):(e.$message.error({type:"error",message:""+s.msg,center:!0,customClass:"tips"}),e.getCode());case 8:case"end":return t.stop()}},t,e)}))()}},computed:a()({},Object(u.d)(["userInfo"]))},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"},nativeOn:{submit:function(t){return t.preventDefault(),e.submitPwdLogin(t)}}},[r("el-form-item",{attrs:{"label-width":"0",prop:"userName"}},[r("el-input",{staticClass:"name",attrs:{placeholder:"用户名",clearable:""},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"pwd","label-width":"0"}},[r("el-input",{staticClass:"pwd",attrs:{placeholder:"密码","show-password":""},model:{value:e.form.pwd,callback:function(t){e.$set(e.form,"pwd",t)},expression:"form.pwd"}})],1),e._v(" "),r("el-form-item",{staticClass:"code",attrs:{"label-width":"0",prop:"code"}},[r("el-input",{attrs:{placeholder:"验证码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),e._v(" "),r("img",{ref:"captcha",staticClass:"codeImg",attrs:{src:"http://localhost:5000/captcha",alt:""},on:{click:e.getCode}})],1),e._v(" "),r("el-button",{staticClass:"btn",attrs:{type:"success","native-type":"submit"}},[e._v("登录")])],1)],1)},staticRenderFns:[]};var p=r("VU/8")(d,m,!1,function(e){r("QcDz")},null,null);t.default=p.exports}});
//# sourceMappingURL=4.4985d296158cb2d00f13.js.map