webpackJsonp([8],{l1kl:function(e,t){},oJTB:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Xxa5"),s=r.n(n),o=r("exGp"),a=r.n(o),i=r("gyMJ"),c={name:"login",data:function(){return{form:{phoneNum:"",pwd:""},rules:{phoneNum:[{required:!0,message:"手机号码是必须的",trigger:"blur"}],pwd:[{required:!0,message:"验证码是必须的",trigger:"blur"}]},codeTime:0,codeNum:""}},computed:{isCode:function(){return/^1\d{10}$/.test(this.form.phoneNum)}},methods:{getCode:function(){var e=this;return a()(s.a.mark(function t(){var r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.codeTime){t.next=7;break}return e.codeTime=30,r=setInterval(function(){e.codeTime--,e.codeTime<=0&&clearInterval(r)},1e3),t.next=5,Object(i.d)(e.form.phoneNum);case 5:1===(n=t.sent).code&&(e.$message.error({type:"error",message:""+n.msg,center:!0,customClass:"tips"}),e.codeTime=0,clearInterval(r));case 7:case"end":return t.stop()}},t,e)}))()},submitForm:function(){var e=this;return a()(s.a.mark(function t(){var r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.e)(e.form.phoneNum,e.form.pwd);case 2:1===(r=t.sent).code?e.$message.error({type:"error",message:""+r.msg,center:!0,customClass:"tips"}):(n=r.data,e.$store.dispatch("recordUserInfo",n),e.$router.replace("/Profile"));case 4:case"end":return t.stop()}},t,e)}))()}}},u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"},nativeOn:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[r("el-form-item",{attrs:{prop:"phoneNum","label-width":"0"}},[r("div",{staticClass:"phoneNums"},[r("el-input",{attrs:{placeholder:"手机号",maxlength:"11"},model:{value:e.form.phoneNum,callback:function(t){e.$set(e.form,"phoneNum",t)},expression:"form.phoneNum"}}),e._v(" "),r("button",{class:{isActived:e.isCode},attrs:{disabled:!e.isCode},on:{click:function(t){return t.preventDefault(),e.getCode(t)}}},[e._v(e._s(this.codeTime>0?"已发送"+this.codeTime+"s":"获取验证码"))])],1)]),e._v(" "),r("el-form-item",{attrs:{prop:"pwd","label-width":"0"}},[r("el-input",{attrs:{placeholder:"验证码"},model:{value:e.form.pwd,callback:function(t){e.$set(e.form,"pwd",t)},expression:"form.pwd"}})],1),e._v(" "),r("p",[e._v("温馨提示: 未注册跑腿外卖账号的手机号，登录时将自动注册，且代表同意 "),r("span",[e._v("《用户服务协议》")])]),e._v(" "),r("el-button",{staticClass:"btn",attrs:{type:"success","native-type":"submit"}},[e._v("登录")])],1)],1)},staticRenderFns:[]};var l=r("VU/8")(c,u,!1,function(e){r("l1kl")},null,null);t.default=l.exports}});
//# sourceMappingURL=8.c81f12370e5bba0185f8.js.map